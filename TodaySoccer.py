#!/usr/bin/env python
# -*- coding: utf-8 -*-


import time
from urllib2 import Request
import urllib2
from bs4 import BeautifulSoup
from DBHelper import *
from SoccerModels import *
from SoccerRound import *
import datetime

from SendMail import *
from SoccerRound import *

global AllGames
global AllBeginTimes



def anyaisegame(beginTimeStr, AllGames, AllBeginTimes):
    # global AllGames
    # global AllBeginTimes
    contentStr = ''
    for game in AllGames:
        if game.beginTime == beginTimeStr:
            game.oddCompanies = getOneGameODD(game)
            game.handiCompanies = getOneGameHandi(game)

            tempstr = getGameData(game)
            if tempstr != None:
                contentStr = contentStr + tempstr
                contentStr = contentStr + '\n'

            time.sleep(3)

    subjectstr = '时段足球分析'
    send_mail("%s %s" % (subjectstr, beginTimeStr), contentStr)
    del AllBeginTimes[0]
    if len(AllBeginTimes) > 0:
        runTask(anyaisegame, AllGames, AllBeginTimes)

def runTask(func, AllGames, AllBeginTimes):
# def runTask(func, day=0, hour=0, min=0, second=0):
    # get current time
    # now = datetime.now()
    # strnow = now.strftime('%Y-%m-%d %H:%M:%S')
    # print "now:", strnow
    # get net_run time
    # period = timedelta(days=0, hours=0, minutes=15, seconds=0)
    # next_time = now + period
    # strnext_time = next_time.strftime('%Y-%m-%d %H:%M:%S')
    # global AllGames
    # global AllBeginTimes

    timeStr = AllBeginTimes[0]
    print timeStr
    now = datetime.now()


    # period = timedelta(days=0, hours=0, minutes=15, seconds=0)
    # next_time = now - period
    # strnext_time = next_time.strftime('%Y-%m-%d %H:%M:%S')
    strnow = now.strftime('%Y-%m-%d %H:%M:%S')
    strnow = '2017-05-08 19:29'
    if timeStr < strnow:
        del AllBeginTimes[0]
        runTask(anyaisegame, AllGames, AllBeginTimes)
        return
    strnext_time = timeStr
    print "next run:", strnext_time
    while True:
        now = datetime.now()
        strnow = now.strftime('%Y-%m-%d %H:%M:%S')
        strnow = '2017-05-08 19:30'
        # if system time eq next_time run the specific task(hello func)
        if str(strnow) == str(strnext_time):
            print strnow
            func(str(strnow), AllGames, AllBeginTimes)
            break

def getTodaySoccer(type):
    # type == 3 精彩
    # type == 1 精简
    # type == 2 十四场
    type = int(type)
    try:
        url = "http://112.91.160.49:8071/phone/schedule_0_" + str(type) + ".txt?an=iosQiuTan&av=5.9&from=2&r="+str(int(time.time()))
        # url = "http://112.91.160.49:8071/phone/schedule_0_" + str(type) + ".txt?an=iosQiuTan&av=5.9&from=2&r=1494229747"


        print url
    except:
        pass
    resultStr = ''
    # req = urllib2.Request(url)
    # req.add_header("User-Agent", "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0)")
    response = requests.get(url)
    # response = urllib2.urlopen(req)
    if response.ok:
        resultStr = response.content;
    else:
        pass

    AllGames = []
    AllBeginTimes = []
    resultStr = '20170515001056$$葡超^23^1!英超^36^1!瑞典超^26^1!俄超^10^1!比甲^5^1!智利甲^415^1!阿甲^2^1!英乙^35^1!西甲^31^1!意甲^34^1!法甲^11^1!巴西甲^4^1!美职业^21^1!墨西联^140^1!日职联^25^1!韩K联^15^1!英冠^37^1!荷甲^16^1!德乙^9^1$$1272002^23^3^20170514230000^20170515000616^马里迪莫^埃斯托里尔^0^0^0^0^0^0^1^0^0.75^周日046^^1^6^14^^^0^0^3^0^1^^3^0^2.25^10.5!1248024^36^1^20170514233000^20170514233100^托特纳姆热刺^曼彻斯特联^1^0^^^0^0^0^1^0.75^周日047^^1^2^6^^^1^0^4^1^1^^4^1^2.5^10!1336645^26^1^20170514233000^20170514233101^天狼星^埃尔夫斯堡^1^1^^^0^0^0^0^0^周日048^^0^6^11^^^0^0^2^0^1^^2^0^2.75^10.5!1336647^26^1^20170514233000^20170514233137^马尔默^奥斯特桑斯^0^0^^^0^0^0^0^0.75^周日049^^1^1^7^^^0^0^1^4^1^^1^4^2.75^10!1255872^10^1^20170514235900^20170515000158^罗斯托夫^喀山鲁宾^1^0^^^0^0^0^0^0.75^周日050^^1^5^9^^^1^0^1^0^1^^1^0^2^9!1371363^5^1^20170514235900^20170515000158^布鲁日^安德莱赫特^0^1^^^0^0^0^0^0.25^周日051^^0^3^1^^^0^0^0^0^1^^0^0^2.5^10!1363884^415^1^20170514235900^20170515000402^迪帕特斯^帕莱斯蒂诺^0^0^^^0^0^0^0^0.5^周日052^^1^10^14^^^0^0^0^1^1^^0^1^2.5^10!1292456^2^0^20170515010000^^科隆竞技^圣塔菲联^0^0^^^0^0^0^0^0.5^周日053^^0^6^18^^^0^0^0^0^1^^0^0^2.25^9.5!1386559^35^0^20170515013000^^布莱克浦^卢顿^0^0^^^0^0^0^0^0.25^周日054^^0^7^4^^^0^0^0^0^1^^0^0^2.5^10.5!1386560^35^0^20170515013000^^卡利斯尔联^埃克塞特城^0^0^^^0^0^0^0^0.25^周日055^^0^6^5^^^0^0^0^0^1^^0^0^2.5^10.5!1268371^31^0^20170515020000^^毕尔巴鄂竞技^雷加利斯^0^0^^^0^0^0^0^1.25^周日056^^0^6^16^^^0^0^0^0^1^^0^0^2.75^9!1268379^31^0^20170515020000^^比利亚雷亚尔^拉科鲁尼亚^0^0^^^0^0^0^0^1.25^周日057^^0^5^17^^^0^0^0^0^1^^0^0^3^10!1268372^31^0^20170515020000^^皇家贝蒂斯^马德里竞技^0^0^^^0^0^0^0^-1^周日058^^0^15^3^^^0^0^0^0^1^^0^0^2.5^9.5!1268377^31^0^20170515020000^^皇家马德里^塞维利亚^0^0^^^0^0^0^0^2.5^周日059^^0^2^4^^^0^0^0^0^1^^0^0^4.5^10!1268378^31^0^20170515020000^^皇家社会^马拉加^0^0^^^0^0^0^0^1^周日060^^0^7^12^^^0^0^0^0^1^^0^0^3^10!1268373^31^0^20170515020000^^埃瓦尔^希洪竞技^0^0^^^0^0^0^0^0.25^周日061^^0^8^18^^^0^0^0^0^1^^0^0^3^9.5!1268375^31^0^20170515020000^^拉斯帕尔马斯^巴塞罗那^0^0^^^0^0^0^0^-2.75^周日062^^0^14^1^^^0^0^0^0^1^^0^0^4.5^8.5!1292450^2^0^20170515020000^^纽维尔老男孩^罗萨里奥中央^0^0^^^0^0^0^0^0.25^周日063^^0^3^11^^^0^0^0^0^1^^0^0^2.25^9.5!1274685^34^0^20170515024500^^罗马^尤文图斯^0^0^^^0^0^0^0^0^周日064^^0^2^1^^^1^0^0^0^1^^0^0^2.75^10.5!1281900^11^0^20170515030000^^摩纳哥^里尔^0^0^^^0^0^0^0^2^周日065^^0^1^11^^^1^0^0^0^1^^0^0^3.5^9.5!1281901^11^0^20170515030000^^圣埃蒂安^巴黎圣日尔曼^0^0^^^0^0^0^0^-1.5^周日066^^0^7^2^^^1^0^0^0^1^^0^0^3^9.5!1281902^11^0^20170515030000^^第戎^南锡^0^0^^^0^0^0^0^0.25^周日067^^0^18^19^^^1^0^0^0^1^^0^0^2.5^9.5!1281905^11^0^20170515030000^^波尔多^马赛^0^0^^^0^0^0^0^0.25^周日068^^0^6^5^^^1^0^0^0^1^^0^0^2.5^9.5!1281903^11^0^20170515030000^^梅斯^图卢兹^0^0^^^0^0^0^0^0^周日069^^0^13^12^^^0^0^0^0^1^^0^0^2.5^9!1281904^11^0^20170515030000^^南特^甘冈^0^0^^^0^0^0^0^0.25^周日070^^0^8^9^^^0^0^0^0^1^^0^0^2.5^9.5!1281907^11^0^20170515030000^^尼斯^安格斯^0^0^^^0^0^0^0^0.75^周日071^^0^3^14^^^1^0^0^0^1^^0^0^2.5^9!1281908^11^0^20170515030000^^巴斯蒂亚(中)^洛里昂^0^0^^^0^0^0^0^0.25^周日072^^0^20^17^^^0^0^0^0^1^^0^0^2.5^9.5!1281909^11^0^20170515030000^^卡昂^雷恩^0^0^^^0^0^0^0^0.5^周日073^^0^16^10^^^0^0^0^0^1^^0^0^2.5^8.5!1365110^4^0^20170515030000^^巴伊亚^巴拉纳竞技^0^0^^^0^0^0^0^0.25^周日074^^0^1^5^^^0^0^0^0^1^^0^0^2.25^10.5!1365112^4^0^20170515030000^^奥瓦^维多利亚^0^0^^^0^0^0^0^0^周日075^^0^8^2^^^0^0^0^0^1^^0^0^2.25^10.5!1365108^4^0^20170515030000^^克鲁塞罗^圣保罗^0^0^^^0^0^0^0^0.5^周日076^^0^1^8^^^0^0^0^0^1^^0^0^2.25^10!1365107^4^0^20170515030000^^帕尔梅拉斯^瓦斯科达伽马^0^0^^^0^0^0^0^1^周日077^^0^4^1^^^0^0^0^0^1^^0^0^2.25^9.5!1365114^4^0^20170515030000^^庞特普雷塔^累西腓体育^0^0^^^0^0^0^0^0.5^周日078^^0^7^3^^^0^0^0^0^1^^0^0^2.25^10!1363886^415^0^20170515030000^^希金斯^智利大学^0^0^^^0^0^0^0^-0.25^周日079^^0^8^2^^^0^0^0^0^1^^0^0^2.75^10!1363883^415^0^20170515030000^^科洛科洛^安托法加斯塔^0^0^^^0^0^0^0^1^周日080^^0^1^13^^^0^0^0^0^1^^0^0^2.75^9.5!1272007^23^0^20170515031500^^布拉加^葡萄牙国民^0^0^^^0^0^0^0^1.5^周日081^^0^5^18^^^0^0^0^0^1^^0^0^3^10.5!1292445^2^0^20170515040000^^博卡青年^河床^0^0^^^0^0^0^0^0.5^周日082^^0^1^7^^^0^0^0^0^1^^0^0^2.25^9!1344176^21^0^20170515040000^^波特兰伐木者^亚特兰大联^0^0^^^0^0^0^0^0.75^周日083^^0^8^16^^^0^0^0^0^1^^0^0^3^9.5!1365113^4^0^20170515060000^^格雷米奥^博塔弗戈^0^0^^^0^0^0^0^0.5^周日084^^0^1^3^^^1^0^0^0^1^^0^0^2.25^10!1292459^2^0^20170515060000^^阿根廷独立^竞技俱乐部^0^0^^^0^0^0^0^0.25^周日085^^0^9^8^^^0^0^0^0^1^^0^0^2.25^9.5!1344177^21^0^20170515060000^^纽约红牛^洛杉矶银河^0^0^^^0^0^0^0^0.5^周日086^^0^10^17^^^0^0^0^0^1^^0^0^2.5^9.5!1292458^2^0^20170515061500^^帕特罗纳图^萨尔米安杜^0^0^^^0^0^0^0^0.5^周日087^^0^21^27^^^0^0^0^0^1^^0^0^2.25^9.5!1386904^140^0^20170515070000^^瓜达拉哈拉^阿特拿斯^0^0^^^0^0^0^0^0.75^周日089^^0^3^6^^^0^0^0^0^1^^0^0^2.5^10!1344178^21^0^20170515080000^^达拉斯FC^纽约城^0^0^^^0^0^0^0^0.75^周日090^^0^5^7^^^0^0^0^0^1^^0^0^2.75^10!1386905^140^0^20170515090000^^提华纳^莫雷利亚^0^0^^^0^0^0^0^0.5^周日088^^0^1^8^^^0^0^0^0^1^^0^0^2.5^9.5!1350359^25^-1^20170514120000^20170514130518^清水鼓动^鸟栖沙岩^1^1^1^0^0^0^2^0^0.25^周日001^^1^14^10^^^1^0^7^4^1^^5^2^2.5^9.5!1350358^25^-1^20170514130000^20170514140640^鹿岛鹿角^神户胜利船^1^2^0^2^0^0^1^2^0.5^周日002^^1^1^8^^^1^0^10^9^1^^5^8^2.5^9.5!1350356^25^-1^20170514130000^20170514140522^新泻天鹅^浦和红钻^1^6^1^5^0^0^1^1^-1.25^周日003^^1^17^2^^^1^0^7^5^1^^1^3^2.75^9!1350357^25^-1^20170514130000^20170514140655^横滨水手^甲府风林^1^0^1^0^0^0^1^3^0.75^周日004^^1^11^12^^^0^0^4^5^1^^2^2^2.25^9!1350353^25^-1^20170514140000^20170514150628^大阪樱花^广岛三箭^5^2^3^1^0^0^0^0^0.25^周日005^^1^7^16^^^0^0^3^3^1^^1^0^2.5^9.5!1350354^25^-1^20170514140000^20170514150620^FC东京^柏太阳神^1^2^0^1^0^0^0^1^0.25^周日006^^1^4^5^^^1^0^3^7^1^^2^3^2.5^9.5!1350355^25^-1^20170514140000^20170514150601^磐田喜悦^川崎前锋^0^2^0^0^0^0^0^2^-0.25^周日007^^1^9^6^^^1^0^9^6^1^^4^5^2.5^9.5!1346291^15^-1^20170514140000^20170514150300^浦项制铁^济州联队^2^1^0^0^0^0^1^1^-0.25^周日008^^1^4^1^^^0^0^8^6^1^^5^1^2.5^9!1346292^15^-1^20170514140000^20170514150333^尚州尚武^FC首尔^2^2^0^0^0^0^1^1^-0.25^周日009^^1^8^5^^^0^0^9^3^1^^9^0^2.5^8.5!1346293^15^-1^20170514140000^20170514150200^蔚山现代^全北现代^0^0^0^0^0^0^2^2^-0.25^周日010^^1^3^2^^^0^0^5^8^1^^3^3^2.25^9!1350352^25^-1^20170514160500^20170514170717^大宫松鼠^仙台维加泰^2^1^0^1^0^0^1^1^0^周日011^^1^18^13^^^1^0^8^10^1^^2^4^2.5^9.5!1346290^15^-1^20170514160000^20170514170302^全南天龙^水原三星^1^3^1^1^0^0^2^1^0^周日012^^1^9^7^^^0^0^3^1^1^^1^1^2.5^10!1350351^25^-1^20170514180000^20170514190606^札幌冈萨多^大阪钢巴^0^2^0^1^0^0^0^1^-0.25^周日013^^1^15^3^^^1^0^5^5^1^^3^2^2.5^9!1274691^34^-1^20170514183000^20170514193755^国际米兰^森索罗^1^2^0^1^0^0^3^1^1.25^周日014^^1^8^14^^^1^0^15^2^1^^5^2^3.25^13!1248018^36^-1^20170514190000^20170514200534^水晶宫^赫尔城^4^0^2^0^0^0^3^5^0.25^周日015^^1^16^18^^^1^0^3^7^1^^3^4^2.5^11!1386739^37^-1^20170514190000^20170514200535^哈德斯菲尔德^谢周三^0^0^0^0^0^0^1^4^0.25^周日016^^1^5^4^^^1^0^8^1^1^^2^0^2.25^10!1252317^16^-1^20170514203000^20170514213500^海牙^SBV精英^4^1^3^1^0^0^0^0^0.25^周日017^^1^14^11^^^0^0^2^2^1^^1^1^2.75^10.5!1252325^16^-1^20170514203000^20170514213200^特温特^格罗宁根^3^5^1^4^0^0^0^0^0.25^周日018^^1^7^10^^^0^0^11^5^1^^5^3^3.25^10.5!1252319^16^-1^20170514203000^20170514213300^费耶诺德^赫拉克莱斯^3^1^2^0^0^0^2^2^2^周日019^^1^1^9^^^0^0^6^4^1^^2^4^3.5^10.5!1252320^16^-1^20170514203000^20170514213052^前进之鹰^鹿特丹斯巴达^1^3^0^0^0^0^4^1^-0.5^周日020^^1^18^16^^^0^0^4^3^1^^4^1^2.75^10.5!1252323^16^-1^20170514203000^^埃因霍温^泽沃勒^4^1^0^1^0^0^0^0^2^周日021^^1^3^13^^^0^0^13^1^1^^6^1^3.5^10!1252321^16^-1^20170514203000^20170514213300^海伦芬^尼美根^0^2^0^1^0^0^1^2^1^周日022^^1^8^17^^^0^0^6^6^1^^2^2^3^10.5!1252324^16^-1^20170514203000^20170514213400^维迪斯^罗达JC^3^0^1^0^0^1^0^2^0.75^周日023^^1^6^15^^^0^0^10^4^1^^6^1^2.75^10.5!1252322^16^-1^20170514203000^20170514213400^威廉二世^阿贾克斯^1^3^0^1^0^0^1^0^-1.75^周日024^^1^12^2^^^1^0^5^6^1^^3^1^3.25^9.5!1371362^5^-1^20170514203000^20170514213300^根特^沙勒罗瓦^1^1^1^1^1^1^2^2^0.75^周日025^^0^2^5^^^0^0^12^3^1^^6^1^2.5^9.5!1274687^34^-1^20170514210000^20170514220819^博洛尼亚^佩斯卡拉^3^1^1^1^0^0^2^2^1^周日026^^1^15^20^^^1^0^9^5^1^^4^1^3^10.5!1274688^34^-1^20170514210000^20170514220319^卡利亚里^恩波利^3^2^3^0^0^0^2^2^-0.25^周日027^^1^13^17^^^1^0^1^5^1^^0^1^2.75^10!1274689^34^-1^20170514210000^20170514220241^克罗托内^乌迪内斯^1^0^1^0^0^0^2^2^0.75^周日028^^1^18^11^^^1^0^4^8^1^^1^2^2.75^10!1274694^34^-1^20170514210000^20170514220552^都灵^那不勒斯^0^5^0^1^0^0^2^1^-1^周日029^^1^9^3^^^1^0^2^7^1^^0^5^3.5^10.5!1274693^34^-1^20170514210000^20170514220728^桑普多利亚^切沃^1^1^1^0^0^0^2^4^0.5^周日030^^1^10^12^^^1^0^5^1^1^^3^0^2.75^10.5!1274692^34^-1^20170514210000^20170514220752^巴勒莫^热那亚^1^0^1^0^0^0^1^1^-0.75^周日031^^1^19^16^^^1^0^3^9^1^^2^2^2.75^10.5!1336650^26^-1^20170514210000^20170514220543^松兹瓦尔^佐高平斯^0^0^0^0^0^0^3^1^0^周日032^^1^13^8^^^0^0^3^5^1^^0^3^2.5^10!1336651^26^-1^20170514210000^20170514220337^哈尔姆斯达斯^哈马比^1^2^0^2^0^0^0^2^0^周日033^^1^14^10^^^0^0^8^5^1^^5^3^2.5^10!1248026^36^-1^20170514211500^20170514221853^西汉姆联^利物浦^0^4^0^1^0^0^2^0^-0.75^周日034^^1^12^4^^^1^0^4^6^1^^2^4^2.75^10!1259276^9^-1^20170514213000^20170514223500^纽伦堡^杜塞尔多夫^2^3^1^1^0^0^2^2^0^周日035^^1^7^13^^^0^0^8^2^1^^5^1^2.5^10!1259278^9^-1^20170514213000^20170514223225^柏林联合^海登海默^0^1^0^0^0^0^1^2^1^周日036^^1^4^10^^^0^0^5^5^1^^2^1^2.75^10!1259271^9^-1^20170514213000^20170514223300^比勒菲尔德^布伦斯维克^6^0^2^0^0^0^1^2^0^周日037^^1^17^2^^^0^0^5^7^1^^3^7^2.5^10.5!1259272^9^-1^20170514213000^20170514223530^奥厄^凯泽斯劳滕^1^0^0^0^0^0^0^2^0.25^周日038^^1^15^12^^^0^0^2^2^1^^2^0^2.25^9.5!1259277^9^-1^20170514213000^20170514223600^圣保利^菲尔特^1^1^0^1^0^0^2^3^0.5^周日039^^1^8^6^^^0^0^5^4^1^^3^0^2.5^10!1259279^9^-1^20170514213000^20170514223357^维尔茨堡踢球者^桑德豪森^0^1^0^1^0^0^3^2^0.25^周日040^^1^16^11^^^0^0^6^0^1^^3^0^2.25^9.5!1259273^9^-1^20170514213000^20170514223314^汉诺威96^斯图加特^1^0^1^0^1^0^2^0^0^周日041^^1^3^1^^^1^0^4^4^1^^0^1^2.5^10!1259274^9^-1^20170514213000^20170514223500^卡尔斯鲁厄^德累斯顿^3^4^1^3^0^0^1^3^0^周日042^^1^18^5^^^0^0^5^5^1^^2^4^2.5^10!1259275^9^-1^20170514213000^20170514223509^慕尼黑1860^波鸿^1^2^1^1^0^0^0^2^0.75^周日043^^1^14^9^^^0^0^8^2^1^^5^2^2.5^10.5!1268370^31^-1^20170514220000^20170514230231^阿拉维斯^塞尔塔^3^1^3^0^0^0^1^3^0.75^周日044^^1^10^13^^^1^0^4^4^1^^2^3^2.5^8.5!1365109^4^-1^20170514220000^20170514230725^弗鲁米嫩塞^桑托斯^3^2^2^1^0^0^1^5^0^周日045^^1^2^2^^^0^0^5^8^1^^4^4^2.5^10.5'
    if resultStr != '':
        # print resultStr
        allArray = resultStr.split('$$')
        leagueStr = ''
        if type == 1:
            leagueStr = allArray[0]
        else:
            leagueStr = allArray[1]

        allLeague = leagueStr.split('!')
        dic = {}
        for league in allLeague:
            oneLeague = league.split('^')
            dic[oneLeague[1]] = oneLeague[0]

        gameStr = ''
        if type == 1:
            gameStr = allArray[1]
        else:
            gameStr = allArray[2]

        games = gameStr.split('!')
        contentStr = ''
        for game in games:
            onegame = FootballGame()
            oneGameArray = game.split('^')
            oneGameArray.remove('')
            onegame.soccerID = int(oneGameArray[0])
            onegame.leauge = dic.get(oneGameArray[1].encode('utf-8'))
            beginTime = oneGameArray[3].encode('utf-8')
            onegame.beginTime = beginTime[0:4] + '-' + beginTime[4:6] + '-' + beginTime[6:8] + ' ' + beginTime[8:10] + ':' + beginTime[10:12]


            briefTimeStr = beginTime[0:4] + '-' + beginTime[4:6] + '-' + beginTime[6:8] + ' ' + beginTime[8:10] + ':' + beginTime[10:12]
            if briefTimeStr not in AllBeginTimes:
                AllBeginTimes.append(briefTimeStr)

            if oneGameArray[4].isdigit() or oneGameArray[4] == '':
                onegame.homeTeam = oneGameArray[5].encode('utf-8')
                onegame.friendTeam = oneGameArray[6].encode('utf-8')
            else:
                onegame.homeTeam = oneGameArray[4].encode('utf-8')
                onegame.friendTeam = oneGameArray[5].encode('utf-8')

            AllGames.append(onegame)

            onegame.oddCompanies = getOneGameODD(onegame)
            onegame.handiCompanies = getOneGameHandi(onegame)
            # templist = getexchange(onegame.soccerID)
            tempstr = getGameData(onegame)
            if tempstr != None:
                contentStr = contentStr + tempstr
                contentStr = contentStr + '\n'
                # contentStr = contentStr.join(templist)
            time.sleep(3)

        i = datetime.now()

        if type == 1:
            subjectstr = '精简足球分析'
        elif type == 2:
            subjectstr = '十四场足球分析'
        else:
            subjectstr = '竞彩分析'

        send_mail("%s %s/%s/%s" % (subjectstr, i.year, i.month, i.day), contentStr)
        # if type == 1 or type == 3:
        #     runTask(anyaisegame, AllGames, AllBeginTimes)


# if sys.argv.__len__()==1:
#     sys.exit('\033[0;36;40m使用说明:\n1个参数:\n1:精简足球分析   2:十四场足球分析  3:竞彩分析\n事例: python TodaySoccer.pyc 1\033[0m')
#
# if __name__ == '__main__':
#     getTodaySoccer(sys.argv[1])
getTodaySoccer(3)




# getexchange(1255863)